(function(){"use strict";var e={5881:function(e,t,o){var r=o(5130),n=o(6768);const s={class:"container mx-auto p-4 font-sans max-w-3xl"},i=(0,n.Lk)("h1",{class:"text-4xl font-bold mb-6 text-center"},"Deep Work Tracker",-1);function l(e,t,o,r,l,a){const c=(0,n.g2)("DeepWorkTracker");return(0,n.uX)(),(0,n.CE)("div",s,[i,(0,n.bF)(c)])}function a(e,t,o,r,s,i){const l=(0,n.g2)("AddDeepWorkModal"),a=(0,n.g2)("ConfirmationModal"),c=(0,n.g2)("DeepWorkItem");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>r.showAddModal=!0),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-6 w-full"}," Add Deep Work... "),r.showAddModal?((0,n.uX)(),(0,n.Wv)(l,{key:0,editWork:r.editingWork,onClose:r.closeModal,onSave:r.saveWork},null,8,["editWork","onClose","onSave"])):(0,n.Q3)("",!0),r.showConfirmationModal?((0,n.uX)(),(0,n.Wv)(a,{key:1,title:r.confirmationModalData.title,message:r.confirmationModalData.message,confirmText:r.confirmationModalData.confirmText,cancelText:r.confirmationModalData.cancelText,onConfirm:r.confirmationModalData.onConfirm,onCancel:r.closeConfirmationModal},null,8,["title","message","confirmText","cancelText","onConfirm","onCancel"])):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.store.works,(e=>((0,n.uX)(),(0,n.Wv)(c,{key:e.id,work:e,onEdit:r.editWork,onToggleComplete:r.toggleComplete,onReset:r.confirmReset,onDelete:r.confirmDelete,onToggle:r.toggleWork},null,8,["work","onEdit","onToggleComplete","onReset","onDelete","onToggle"])))),128))])}var c=o(144);o(4114);const d=(0,c.Kh)({works:[],lastUpdateTime:Date.now(),addDeepWork(e){this.works.push({id:Date.now(),name:e.name,description:e.description,hours:e.hours,timeSpent:0,isActive:!1,isCompleted:!1,startTime:null}),this.saveToLocalStorage()},updateWork(e,t){const o=this.works.findIndex((t=>t.id===e));-1!==o&&(this.works[o]={...this.works[o],...t},this.saveToLocalStorage())},toggleComplete(e){const t=this.works.find((t=>t.id===e));t&&(t.isCompleted=!t.isCompleted,t.isCompleted&&(t.isActive=!1,t.startTime=null),this.saveToLocalStorage())},resetWork(e){const t=this.works.find((t=>t.id===e));t&&(t.timeSpent=0,t.isCompleted=!1,t.isActive=!1,t.startTime=null,this.saveToLocalStorage())},deleteWork(e){const t=this.works.findIndex((t=>t.id===e));-1!==t&&(this.works.splice(t,1),this.saveToLocalStorage())},toggleWork(e){const t=this.works.find((t=>t.id===e));t&&(t.isActive?(t.isActive=!1,t.timeSpent+=(Date.now()-t.startTime)/1e3,t.startTime=null):(this.works.forEach((e=>{e.isActive&&(e.isActive=!1,e.timeSpent+=(Date.now()-e.startTime)/1e3,e.startTime=null)})),t.isActive=!0,t.startTime=Date.now()),this.saveToLocalStorage())},updateActiveWorks(){const e=Date.now(),t=(e-this.lastUpdateTime)/1e3;this.lastUpdateTime=e,this.works.forEach((e=>{e.isActive&&(e.timeSpent+=t,e.timeSpent>=3600*e.hours&&(e.isCompleted=!0,e.isActive=!1,e.startTime=null))})),this.saveToLocalStorage()},saveToLocalStorage(){localStorage.setItem("deepWorks",JSON.stringify(this.works)),localStorage.setItem("lastUpdateTime",this.lastUpdateTime.toString())},loadFromLocalStorage(){const e=localStorage.getItem("deepWorks"),t=localStorage.getItem("lastUpdateTime");e&&(this.works=JSON.parse(e)),t&&(this.lastUpdateTime=parseInt(t,10)),this.updateActiveWorks()}});d.loadFromLocalStorage();const u=1e3;if("undefined"!==typeof window){let e=setInterval((()=>d.updateActiveWorks()),u);document.addEventListener("visibilitychange",(()=>{document.hidden?clearInterval(e):(d.updateActiveWorks(),e=setInterval((()=>d.updateActiveWorks()),u))}))}function m(){return d}var p=o(4232);const k={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50"},g={class:"bg-white p-5 rounded-lg shadow-xl max-w-md w-full"},v={class:"text-2xl font-bold mb-4"},h={key:0,class:"text-red-500 text-sm mb-2"},w={class:"mb-4"},f=(0,n.Lk)("p",{class:"mb-2"},"Select hours:",-1),b={class:"flex space-x-2"},x=["onClick"],C={key:1,class:"mb-4"},y={class:"flex justify-end"};function W(e,t,o,s,i,l){return(0,n.uX)(),(0,n.CE)("div",k,[(0,n.Lk)("div",g,[(0,n.Lk)("h2",v,(0,p.v_)(o.editWork?"Edit Deep Work":"Add New Deep Work"),1),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.newWork.name=e),placeholder:"Name",class:"border p-2 mb-2 w-full rounded"},null,512),[[r.Jo,s.newWork.name]]),s.showNameValidation?((0,n.uX)(),(0,n.CE)("p",h,"Please enter a name for your Deep Work.")):(0,n.Q3)("",!0),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.newWork.description=e),placeholder:"Description",class:"border p-2 mb-2 w-full rounded",rows:"3"},null,512),[[r.Jo,s.newWork.description]]),(0,n.Lk)("div",w,[f,(0,n.Lk)("div",b,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)([5,20,100],(e=>(0,n.Lk)("button",{key:e,onClick:t=>s.setHours(e),class:(0,p.C4)(["py-1 px-3 rounded transition-colors duration-200",s.newWork.hours===e?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"])},(0,p.v_)(e),11,x))),64)),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>s.toggleCustomHours&&s.toggleCustomHours(...e)),class:(0,p.C4)(["py-1 px-3 rounded transition-colors duration-200",s.showCustomHours?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"])}," Custom ",2)])]),s.showCustomHours?((0,n.uX)(),(0,n.CE)("div",C,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.newWork.hours=e),type:"number",min:"1",max:"1000",class:"border p-2 w-full rounded",placeholder:"Enter custom hours (1-1000)"},null,512),[[r.Jo,s.newWork.hours,void 0,{number:!0}]])])):(0,n.Q3)("",!0),(0,n.Lk)("div",y,[(0,n.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>s.saveDeepWork&&s.saveDeepWork(...e)),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mr-2"},(0,p.v_)(o.editWork?"Save":"Add"),1),(0,n.Lk)("button",{onClick:t[5]||(t[5]=t=>e.$emit("close")),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"},"Cancel")])])])}var D={name:"AddDeepWorkModal",props:{editWork:{type:Object,default:null}},emits:["close","save"],setup(e,{emit:t}){const o=(0,c.KR)({name:"",description:"",hours:20}),r=(0,c.KR)(!1),s=(0,c.KR)(!1);(0,n.wB)((()=>e.editWork),(e=>{e?(o.value={...e},s.value=![5,20,100].includes(e.hours)):(o.value={name:"",description:"",hours:20},s.value=!1)}),{immediate:!0});const i=e=>{o.value.hours=e,s.value=!1},l=()=>{s.value=!s.value,s.value?o.value.hours=null:o.value.hours=20},a=()=>{o.value.name&&o.value.hours>0?t("save",o.value):r.value=!0};return{newWork:o,showNameValidation:r,showCustomHours:s,setHours:i,toggleCustomHours:l,saveDeepWork:a}}},T=o(1241);const L=(0,T.A)(D,[["render",W]]);var A=L;const S={class:"mb-6 p-4 border rounded relative shadow-md"},M={class:"text-2xl font-bold mb-2"},E={key:0,class:"mb-2"},_={key:1,class:"mb-2"},X={class:"flex items-center mb-2"},I={class:"w-full bg-gray-200 rounded-full h-2.5 mr-4 overflow-hidden"},R={class:"whitespace-nowrap w-40 text-right"},j={class:"flex items-center justify-between"},O={class:"text-sm text-gray-600"},$={class:"absolute top-2 right-2"},F=(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,n.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})],-1),K=[F],U={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10"},Q={key:2,class:"absolute top-2 right-10 text-green-500"},H=(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,n.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),z=[H];function N(e,t,o,r,s,i){return(0,n.uX)(),(0,n.CE)("div",S,[(0,n.Lk)("h2",M,(0,p.v_)(o.work.name),1),o.work.description?((0,n.uX)(),(0,n.CE)("p",E,[(0,n.eW)((0,p.v_)(r.truncatedDescription)+" ",1),r.isDescriptionTruncated?((0,n.uX)(),(0,n.CE)("a",{key:0,onClick:t[0]||(t[0]=e=>r.showFullDescription=!r.showFullDescription),class:"text-blue-500 cursor-pointer"},(0,p.v_)(r.showFullDescription?"Read less":"Read more"),1)):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),r.showFullDescription&&o.work.description?((0,n.uX)(),(0,n.CE)("p",_,(0,p.v_)(o.work.description),1)):(0,n.Q3)("",!0),(0,n.Lk)("div",X,[(0,n.Lk)("div",I,[(0,n.Lk)("div",{class:"bg-blue-600 h-2.5 rounded-full transition-all duration-500",style:(0,p.Tr)({width:o.work.timeSpent/(3600*o.work.hours)*100+"%"})},null,4)]),(0,n.Lk)("span",R,(0,p.v_)((o.work.timeSpent/3600).toFixed(5))+" / "+(0,p.v_)(o.work.hours)+" hours",1)]),(0,n.Lk)("div",j,[(0,n.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("toggle",o.work)),class:"mt-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded"},(0,p.v_)(o.work.isActive?"Pause":"Work"),1),(0,n.Lk)("span",O,(0,p.v_)(r.remainingTimeText),1)]),(0,n.Lk)("div",$,[(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>r.toggleDropdown&&r.toggleDropdown(...e)),class:"text-gray-500 hover:text-gray-700"},K),r.showDropdown?((0,n.uX)(),(0,n.CE)("div",U,[(0,n.Lk)("a",{onClick:t[3]||(t[3]=e=>r.emitAction("edit")),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},"Edit"),(0,n.Lk)("a",{onClick:t[4]||(t[4]=e=>r.emitAction("toggleComplete")),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},(0,p.v_)(o.work.isCompleted?"Mark as Incomplete":"Mark as Complete"),1),(0,n.Lk)("a",{onClick:t[5]||(t[5]=e=>r.emitAction("reset")),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},"Reset"),(0,n.Lk)("a",{onClick:t[6]||(t[6]=e=>r.emitAction("delete")),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},"Delete")])):(0,n.Q3)("",!0)]),o.work.isCompleted?((0,n.uX)(),(0,n.CE)("div",Q,z)):(0,n.Q3)("",!0)])}var J={name:"DeepWorkItem",props:{work:{type:Object,required:!0}},emits:["edit","toggleComplete","reset","delete","toggle"],setup(e,{emit:t}){const o=(0,c.KR)(!1),r=(0,c.KR)(!1),s=()=>{o.value=!o.value},i=r=>{t(r,e.work),o.value=!1},l=(0,n.EW)((()=>e.work.description?e.work.description.length>100?e.work.description.slice(0,100)+"...":e.work.description:"")),a=(0,n.EW)((()=>e.work.description&&e.work.description.length>100)),d=(0,n.EW)((()=>{const t=3600*e.work.hours-e.work.timeSpent,o=Math.floor(t/3600),r=Math.floor(t%3600/60);let n="";return o>0&&(n+=`${o} hour${o>1?"s":""}`),r>0&&(n&&(n+=" "),n+=`${r} minute${r>1?"s":""}`),n?`${n} remaining`:"Completed"}));return{showDropdown:o,showFullDescription:r,toggleDropdown:s,emitAction:i,truncatedDescription:l,isDescriptionTruncated:a,remainingTimeText:d}}};const V=(0,T.A)(J,[["render",N]]);var P=V;const q={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50"},B={class:"bg-white p-5 rounded-lg shadow-xl max-w-md w-full"},G={class:"text-xl font-bold mb-4"},Y={class:"mb-4"},Z={class:"flex justify-end"};function ee(e,t,o,r,s,i){return(0,n.uX)(),(0,n.CE)("div",q,[(0,n.Lk)("div",B,[(0,n.Lk)("h2",G,(0,p.v_)(o.title),1),(0,n.Lk)("p",Y,(0,p.v_)(o.message),1),(0,n.Lk)("div",Z,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("confirm")),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2"},(0,p.v_)(o.confirmText),1),(0,n.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("cancel")),class:"bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded"},(0,p.v_)(o.cancelText),1)])])])}var te={name:"ConfirmationModal",props:{title:{type:String,required:!0},message:{type:String,required:!0},confirmText:{type:String,default:"Confirm"},cancelText:{type:String,default:"Cancel"}},emits:["confirm","cancel"]};const oe=(0,T.A)(te,[["render",ee]]);var re=oe,ne={name:"DeepWorkTracker",components:{AddDeepWorkModal:A,DeepWorkItem:P,ConfirmationModal:re},setup(){const e=(0,c.KR)(!1),t=(0,c.KR)(!1),o=m(),r=(0,c.KR)(null),n=(0,c.Kh)({title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",onConfirm:()=>{}}),s=()=>{e.value=!1,r.value=null},i=e=>{r.value?o.updateWork(r.value.id,e):o.addDeepWork(e),s()},l=t=>{r.value=t,e.value=!0},a=e=>{o.toggleComplete(e.id)},d=e=>{t.value=!0,n.title="Reset Deep Work",n.message=`Are you sure you want to reset "${e.name}"? This will set the time spent back to 0.`,n.onConfirm=()=>{o.resetWork(e.id),k()}},u=e=>{t.value=!0,n.title="Delete Deep Work",n.message=`Are you sure you want to delete "${e.name}"? This action cannot be undone.`,n.onConfirm=()=>{o.deleteWork(e.id),k()}},p=e=>{const r=o.works.find((t=>t.isActive&&t.id!==e.id));r?(t.value=!0,n.title="Switch Active Deep Work",n.message=`Do you want to pause "${r.name}" and start "${e.name}"?`,n.onConfirm=()=>{o.toggleWork(e.id),k()}):o.toggleWork(e.id)},k=()=>{t.value=!1};return{showAddModal:e,showConfirmationModal:t,store:o,editingWork:r,confirmationModalData:n,closeModal:s,saveWork:i,editWork:l,toggleComplete:a,confirmReset:d,confirmDelete:u,toggleWork:p,closeConfirmationModal:k}}};const se=(0,T.A)(ne,[["render",a]]);var ie=se,le={name:"App",components:{DeepWorkTracker:ie}};const ae=(0,T.A)(le,[["render",l]]);var ce=ae;(0,r.Ef)(ce).mount("#app")}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,r,n,s){if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],n=e[d][1],s=e[d][2];for(var l=!0,a=0;a<r.length;a++)(!1&s||i>=s)&&Object.keys(o.O).every((function(e){return o.O[e](r[a])}))?r.splice(a--,1):(l=!1,s<i&&(i=s));if(l){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,n,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,s,i=r[0],l=r[1],a=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(a)var d=a(o)}for(t&&t(r);c<i.length;c++)s=i[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},r=self["webpackChunkdeep_work_tracker"]=self["webpackChunkdeep_work_tracker"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(5881)}));r=o.O(r)})();
//# sourceMappingURL=app.076b030b.js.map